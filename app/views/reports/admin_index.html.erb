<section id="reportsPanel">

<% unless @school %>
  <h2>No school selected.</h2>
<% else %>
  <h3>Reports for: <%= @school.name %></h3>
<% end %>

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1.1", {packages:["table"]});
      google.setOnLoadCallback(drawTable);

      function drawTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Goal Prompt');
        data.addColumn('number', 'Record');
        // package up the data using models and helpers and deliver it to .addRows as an instance variable
        data.addRows([
          ['Mike',  3],
          ['Jim',   4],
          ['Alice', 5],
          ['Bob',   6]
        ]);

        var table = new google.visualization.Table(document.getElementById('schoolTable'));

        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
      }
</script>

<% if @school %>
  <div class="schoolData">
    <h1><%= @school.name %></h1>

    <div id="schoolTable"></div>
    <div class="graph"></div>
  </div>
<% end %>

<%= form_tag reports_path, method: "get", id: 'schoolFilter' do%>
  School: <%= select_tag 'school_id', options_for_select(schools_options(@schools)) %>
  <%= submit_tag "Filter Results" %>
<% end %>

</section>